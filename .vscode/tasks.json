
{
    // 配置文件版本号，表示使用的是VS Code任务系统2.0版本
    "version": "2.0.0",
    // 定义任务列表
    "tasks": [
        {
            // 任务名称，在VS Code中显示的标签
            "label": "build example_ws g++",
            // 任务类型，shell表示通过命令行执行
            "type": "shell",
            // 执行的命令，这里是g++编译器
            "command": "g++",
            // 命令行参数列表
            "args": [
                // 生成调试信息
                "-g",
                // 添加项目包含路径
                "-I.",
                // 要编译的源文件
                "example_ws.cpp",
                    "websocket_client.cpp",
                // 指定输出可执行文件名
                "-o",
                "example_ws.exe",
                // 指定C++标准为C++17
                "-std=c++17",
                // 包含vcpkg安装的头文件路径
                "-I${env:vcpkg_root}/installed/x64-mingw-static/include",
                // 包含vcpkg安装的库文件路径
                "-L${env:vcpkg_root}/installed/x64-mingw-static/lib",
                // 链接gtest库（Google Test框架）
                    "-lgtest",
                // 链接pthread库（多线程支持）
                    "-lws2_32"
            ],
            // 任务分组设置
            "group": {
                // 分类为构建任务
                "kind": "build",
                // 是否为默认任务（false表示不是默认任务）
                "isDefault": false
            },
            // 问题匹配器，用于解析编译器输出的错误和警告信息
            "problemMatcher": [
                // 使用GCC编译器的问题格式
                "$gcc"
            ],
            // 任务详细描述信息
            "detail": "MinGW1111"
        },
        {
            "label": "build tests g++",
            "type": "shell",
            "command": "g++",
            "args": [
                "-g",
                "-I.",
                "test.cpp",
                "tests/websocket_client_test.cpp",
                "websocket_client.cpp",
                "-o",
                "run_tests.exe",
                "-std=c++17",
                "-I${env:vcpkg_root}/installed/x64-mingw-static/include",
                "-L${env:vcpkg_root}/installed/x64-mingw-static/lib",
                "-lgtest",
                "-lws2_32"
            ],
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "problemMatcher": ["$gcc"],
            "detail": "MinGW2222"
        }
    ]
} 